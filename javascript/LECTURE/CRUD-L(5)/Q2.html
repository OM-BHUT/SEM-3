<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      #result {
        margin: 20px;
      }
    </style>
  </head>

  <body>
    <div id="getInput">
      <input type="text" id="input-1" />
      <br>
      <button onclick="addNew()" id="button-click">Add</button>
      <span id="warning"></span>
    </div>
    <div id="result">
        
    </div>
    <script>
      var c = 0;
      var i = 0;

      arr = [
        {
          createdAt: "createdAt 1",
          name: "Mrs. Anthony Conn Sr.",
          avatar:
            "https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/1033.jpg",
          id: "1",
        },
        {
          createdAt: "createdAt 2",
          name: "Curtis Paucek",
          avatar:
            "https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/191.jpg",
          id: "2",
        },
      ];

      function displayStudent() {
        console.log(arr[0]);
        
        var temp = document.getElementById("result");
        var tempString = "<table border='1'>";
        for (var i = 0; i < arr.length; i++) {
          tempString += "<tr>";
          tempString += "<td>" + arr[i].name + "</td>";
          tempString += "<td><img src='" + arr[i].avatar + "' width='40'></td>";
          tempString += "<td>" + arr[i].id + "</td>";
          tempString +=
            "<td><button onclick='deleteStudents(" +
            i +
            ")'>Delete</button></td>";
          tempString +=
            "<td><button onclick='editStudents(" + i + ")'>Edit</button></td>";
          tempString += "</tr>";
        }
        tempString += "</table>";
        temp.innerHTML = tempString;
      }
      displayStudent();

      function addNew() {
        if (c == 0) {
          warn = document.getElementById("warning");

          a = document.getElementById("input-1");
          obj = {
            name: a.value
          };
          if (a.value == "") {
            warn.style.color = "red";
            warn.innerHTML = "Enter valid input";
          } else {
            arr.push(obj);
            a.value = "";
            warn.innerHTML = "";
            displayStudent();
          }
        } else {
          addedity();
          b = document.getElementById("button-click");
          b.innerHTML = "Add";
          c = 0;
          document.getElementById("input-1").value = "";
        }
      }
      function deleteStudents(index) {
        arr.splice(index, 1);
        displayStudent();
      }

      function editStudents(index) {
        i = index;
        c = 1;
        a = document.getElementById("input-1");
        a.value = arr[index].name;
        b = document.getElementById("button-click");
        b.innerHTML = "Edit";
      }

      function addedity() {
        ivalue = document.getElementById("input-1");
        arr[i].name = ivalue.value;
        displayStudent();
      }
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
